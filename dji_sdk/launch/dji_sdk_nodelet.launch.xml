<?xml version="1.0"?>

<launch>
    <arg name="manager" default="/standalone_nodelet" />
    <arg name="start_nodelet_manager" default="false" />
    <arg name="serial_name" default=""/>
    <arg name="drone_name" default="/" />
    <arg name="connection_link" default="uart" />  <!-- uart, usb. choose uart as default -->
    <arg name="drone_model" default="m100" /> <!-- m100, a3, inspire1. -->

    <node pkg="nodelet" type="nodelet" name="dji_sdk_node" args="load dji_sdk/DJISDKNodelet $(arg manager)" output="screen" ns="$(arg drone_name)">
        <!-- node parameters -->
        <param name="tf_prefix" type="string" value="$(arg drone_name)"/>
        <param name="serial_name" type="string" value="$(arg serial_name)"/>
        <param name="baud_rate" type="int" value="230400"/>
        <param name="app_id" type="int" value="1022384"/>
        <param name="app_version" type="int" value="1"/>
        <param name="app_bundle_id" type="string" value="Welcome to use dji-sdk"/>
        <param name="enc_key" type="string" value="e7bad64696529559318bb35d0a8c6050d3b88e791e1808cfe8f7802150ee6f0d"/>
        <param name="enable_groundstation" type="int" value="1"/>
        <param name="connection_link" type="string" value="$(arg connection_link)"/> 
        <param name="drone_model" type="string" value="$(arg drone_model)"/>  
    </node>

    <node pkg="nodelet" type="nodelet" name="standalone_nodelet" args="manager" output="screen" if="$(arg start_nodelet_manager)"/>

</launch>
